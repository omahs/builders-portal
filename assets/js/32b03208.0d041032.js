"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[9841],{3905:function(e,t,a){a.d(t,{Zo:function(){return m},kt:function(){return u}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),d=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},m=function(e){var t=d(e.components);return n.createElement(o.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),k=d(a),u=r,h=k["".concat(o,".").concat(u)]||k[u]||p[u]||i;return a?n.createElement(h,l(l({ref:t},m),{},{components:a})):n.createElement(h,l({ref:t},m))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=k;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var d=2;d<i;d++)l[d]=a[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},7235:function(e,t,a){a.r(t),a.d(t,{assets:function(){return m},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return s},metadata:function(){return d},toc:function(){return p}});var n=a(3117),r=a(102),i=(a(7294),a(3905)),l=["components"],s={},o=void 0,d={unversionedId:"smart-contracts/core/permission/PermissionManager",id:"smart-contracts/core/permission/PermissionManager",title:"PermissionManager",description:"Aragon Core",source:"@site/docs/smart-contracts/core/permission/PermissionManager.md",sourceDirName:"smart-contracts/core/permission",slug:"/smart-contracts/core/permission/PermissionManager",permalink:"/docs/smart-contracts/core/permission/PermissionManager",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/smart-contracts/core/permission/PermissionManager.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"IPermissionOracle",permalink:"/docs/smart-contracts/core/permission/IPermissionOracle"},next:{title:"DAOFactory",permalink:"/docs/smart-contracts/factory/DAOFactory"}},m={},p=[{value:"Aragon Core",id:"aragon-core",level:2},{value:"contract <code>PermissionManager</code>",id:"contract-permissionmanager",level:3},{value:"public variable <code>ROOT_PERMISSION_ID</code>",id:"public-variable-root_permission_id",level:4},{value:"internal variable <code>ANY_ADDR</code>",id:"internal-variable-any_addr",level:4},{value:"internal variable <code>UNSET_FLAG</code>",id:"internal-variable-unset_flag",level:4},{value:"internal variable <code>ALLOW_FLAG</code>",id:"internal-variable-allow_flag",level:4},{value:"internal variable <code>permissionsHashed</code>",id:"internal-variable-permissionshashed",level:4},{value:"internal variable <code>immutablePermissionsHashed</code>",id:"internal-variable-immutablepermissionshashed",level:4},{value:"error <code>PermissionMissing</code>",id:"error-permissionmissing",level:4},{value:"error <code>PermissionAlreadyGranted</code>",id:"error-permissionalreadygranted",level:4},{value:"error <code>PermissionAlreadyRevoked</code>",id:"error-permissionalreadyrevoked",level:4},{value:"error <code>PermissionImmutable</code>",id:"error-permissionimmutable",level:4},{value:"event <code>Granted</code>",id:"event-granted",level:4},{value:"event <code>Revoked</code>",id:"event-revoked",level:4},{value:"event <code>MadeImmutable</code>",id:"event-madeimmutable",level:4},{value:"internal modifier <code>auth</code>",id:"internal-modifier-auth",level:4},{value:"internal function <code>__PermissionManager_init</code>",id:"internal-function-__permissionmanager_init",level:4},{value:"external function <code>grant</code>",id:"external-function-grant",level:4},{value:"external function <code>grantWithOracle</code>",id:"external-function-grantwithoracle",level:4},{value:"external function <code>revoke</code>",id:"external-function-revoke",level:4},{value:"external function <code>makeImmutable</code>",id:"external-function-makeimmutable",level:4},{value:"external function <code>bulk</code>",id:"external-function-bulk",level:4},{value:"public function <code>hasPermissions</code>",id:"public-function-haspermissions",level:4},{value:"public function <code>isImmutable</code>",id:"public-function-isimmutable",level:4},{value:"internal function <code>_initializePermissionManager</code>",id:"internal-function-_initializepermissionmanager",level:4},{value:"internal function <code>_grant</code>",id:"internal-function-_grant",level:4},{value:"internal function <code>_grantWithOracle</code>",id:"internal-function-_grantwithoracle",level:4},{value:"internal function <code>_revoke</code>",id:"internal-function-_revoke",level:4},{value:"internal function <code>_makeImmutable</code>",id:"internal-function-_makeimmutable",level:4},{value:"internal function <code>_hasPermission</code>",id:"internal-function-_haspermission",level:4},{value:"internal function <code>permissionHash</code>",id:"internal-function-permissionhash",level:4},{value:"internal function <code>immutablePermissionHash</code>",id:"internal-function-immutablepermissionhash",level:4}],k={toc:p};function u(e){var t=e.components,a=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,n.Z)({},k,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"aragon-core"},"Aragon Core"),(0,i.kt)("h3",{id:"contract-permissionmanager"},"contract ",(0,i.kt)("inlineCode",{parentName:"h3"},"PermissionManager")),(0,i.kt)("p",null,"The permission manager used in a DAO and its associated components."),(0,i.kt)("h4",{id:"public-variable-root_permission_id"},"public variable ",(0,i.kt)("inlineCode",{parentName:"h4"},"ROOT_PERMISSION_ID")),(0,i.kt)("p",null,"The ID of the permission required to call the ",(0,i.kt)("inlineCode",{parentName:"p"},"grant"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"grantWithOracle"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"revoke"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"makeImmutable"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"bulk")," function."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"bytes32 ROOT_PERMISSION_ID \n")),(0,i.kt)("h4",{id:"internal-variable-any_addr"},"internal variable ",(0,i.kt)("inlineCode",{parentName:"h4"},"ANY_ADDR")),(0,i.kt)("p",null,"A special address encoding permissions that are valid for any address."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"address ANY_ADDR \n")),(0,i.kt)("h4",{id:"internal-variable-unset_flag"},"internal variable ",(0,i.kt)("inlineCode",{parentName:"h4"},"UNSET_FLAG")),(0,i.kt)("p",null,"A special address encoding if a permissions is not set and therefore not allowed."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"address UNSET_FLAG \n")),(0,i.kt)("h4",{id:"internal-variable-allow_flag"},"internal variable ",(0,i.kt)("inlineCode",{parentName:"h4"},"ALLOW_FLAG")),(0,i.kt)("p",null,"A special address encoding if a permission is allowed."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"address ALLOW_FLAG \n")),(0,i.kt)("h4",{id:"internal-variable-permissionshashed"},"internal variable ",(0,i.kt)("inlineCode",{parentName:"h4"},"permissionsHashed")),(0,i.kt)("p",null,"A mapping storing permissions as hashes (i.e., ",(0,i.kt)("inlineCode",{parentName:"p"},"permissionHash(where, who, permissionId)"),") and their status (unset, allowed, or redirect to a ",(0,i.kt)("inlineCode",{parentName:"p"},"PermissionOracle"),")."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"mapping(bytes32 => address) permissionsHashed \n")),(0,i.kt)("h4",{id:"internal-variable-immutablepermissionshashed"},"internal variable ",(0,i.kt)("inlineCode",{parentName:"h4"},"immutablePermissionsHashed")),(0,i.kt)("p",null,"A mapping storing immutable permissions as hashes (i.e., ",(0,i.kt)("inlineCode",{parentName:"p"},"immutablePermissionHash(where, permissionId)"),") and their status (",(0,i.kt)("inlineCode",{parentName:"p"},"true")," = immutable, ",(0,i.kt)("inlineCode",{parentName:"p"},"false")," = mutable)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"mapping(bytes32 => bool) immutablePermissionsHashed \n")),(0,i.kt)("h4",{id:"error-permissionmissing"},"error ",(0,i.kt)("inlineCode",{parentName:"h4"},"PermissionMissing")),(0,i.kt)("p",null,"Thrown if a permission is missing."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"error PermissionMissing(address here, address where, address who, bytes32 permissionID) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"here"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The context in which the authorization reverted.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The contract requiring the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) missing the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")))),(0,i.kt)("h4",{id:"error-permissionalreadygranted"},"error ",(0,i.kt)("inlineCode",{parentName:"h4"},"PermissionAlreadyGranted")),(0,i.kt)("p",null,"Thrown if a permission has been already granted."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"error PermissionAlreadyGranted(address where, address who, bytes32 permissionID) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract to grant ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," permission to.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) to which the permission has already been granted.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")))),(0,i.kt)("h4",{id:"error-permissionalreadyrevoked"},"error ",(0,i.kt)("inlineCode",{parentName:"h4"},"PermissionAlreadyRevoked")),(0,i.kt)("p",null,"Thrown if a permission has been already revoked."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"error PermissionAlreadyRevoked(address where, address who, bytes32 permissionID) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract to revoke ",(0,i.kt)("inlineCode",{parentName:"td"},"who"),"s permission from.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) from which the permission has already been revoked.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")))),(0,i.kt)("h4",{id:"error-permissionimmutable"},"error ",(0,i.kt)("inlineCode",{parentName:"h4"},"PermissionImmutable")),(0,i.kt)("p",null,"Thrown if a permission is immutable."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"error PermissionImmutable(address where, bytes32 permissionID) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which the permission is immutable.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")))),(0,i.kt)("h4",{id:"event-granted"},"event ",(0,i.kt)("inlineCode",{parentName:"h4"},"Granted")),(0,i.kt)("p",null,"Emitted when a permission ",(0,i.kt)("inlineCode",{parentName:"p"},"permission")," is granted in the context ",(0,i.kt)("inlineCode",{parentName:"p"},"here")," to the address ",(0,i.kt)("inlineCode",{parentName:"p"},"who")," for the contract ",(0,i.kt)("inlineCode",{parentName:"p"},"where"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"event Granted(bytes32 permissionID, address here, address who, address where, contract IPermissionOracle oracle) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"here"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the context in which the permission is granted.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) receiving the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," receives permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"oracle"),(0,i.kt)("td",{parentName:"tr",align:null},"contract IPermissionOracle"),(0,i.kt)("td",{parentName:"tr",align:null},"The address ",(0,i.kt)("inlineCode",{parentName:"td"},"ALLOW_FLAG")," for regular permissions or, alternatively, the ",(0,i.kt)("inlineCode",{parentName:"td"},"PermissionOracle")," to be used.")))),(0,i.kt)("h4",{id:"event-revoked"},"event ",(0,i.kt)("inlineCode",{parentName:"h4"},"Revoked")),(0,i.kt)("p",null,"Emitted when a permission ",(0,i.kt)("inlineCode",{parentName:"p"},"permission")," is revoked in the context ",(0,i.kt)("inlineCode",{parentName:"p"},"here")," from the address ",(0,i.kt)("inlineCode",{parentName:"p"},"who")," for the contract ",(0,i.kt)("inlineCode",{parentName:"p"},"where"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"event Revoked(bytes32 permissionID, address here, address who, address where) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"here"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the context in which the permission is revoked.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) losing the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," loses permission")))),(0,i.kt)("h4",{id:"event-madeimmutable"},"event ",(0,i.kt)("inlineCode",{parentName:"h4"},"MadeImmutable")),(0,i.kt)("p",null,"Emitted when a ",(0,i.kt)("inlineCode",{parentName:"p"},"permission")," is made immutable to the address ",(0,i.kt)("inlineCode",{parentName:"p"},"here")," by the contract ",(0,i.kt)("inlineCode",{parentName:"p"},"where"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"event MadeImmutable(bytes32 permissionID, address here, address where) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"here"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the context in which the permission is immutable.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which the permission is immutable.")))),(0,i.kt)("h4",{id:"internal-modifier-auth"},"internal modifier ",(0,i.kt)("inlineCode",{parentName:"h4"},"auth")),(0,i.kt)("p",null,"A modifier to be used to check permissions on a target contract."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"modifier auth(address _where, bytes32 _permissionID) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which the permission is required.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier required to call the method this modifier is applied to.")))),(0,i.kt)("h4",{id:"internal-function-__permissionmanager_init"},"internal function ",(0,i.kt)("inlineCode",{parentName:"h4"},"__PermissionManager_init")),(0,i.kt)("p",null,"Initialization method to set the initial owner of the permission manager."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function __PermissionManager_init(address _initialOwner) internal \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_initialOwner"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The initial owner of the permission manager.")))),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"The initial owner is granted the ",(0,i.kt)("inlineCode",{parentName:"em"},"ROOT_PERMISSION_ID")," permission.")),(0,i.kt)("h4",{id:"external-function-grant"},"external function ",(0,i.kt)("inlineCode",{parentName:"h4"},"grant")),(0,i.kt)("p",null,"Grants permission to an address to call methods in a contract guarded by an auth modifier with the specified permission identifier."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function grant(address _where, address _who, bytes32 _permissionID) external \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," recieves permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) receiving the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")))),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Requires the ",(0,i.kt)("inlineCode",{parentName:"em"},"ROOT_PERMISSION_ID")," permission.")),(0,i.kt)("h4",{id:"external-function-grantwithoracle"},"external function ",(0,i.kt)("inlineCode",{parentName:"h4"},"grantWithOracle")),(0,i.kt)("p",null,"Grants permission to an address to call methods in a target contract guarded by an auth modifier with the specified permission identifier if the referenced oracle permits it."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function grantWithOracle(address _where, address _who, bytes32 _permissionID, contract IPermissionOracle _oracle) external \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," recieves permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) receiving the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_oracle"),(0,i.kt)("td",{parentName:"tr",align:null},"contract IPermissionOracle"),(0,i.kt)("td",{parentName:"tr",align:null},"The ",(0,i.kt)("inlineCode",{parentName:"td"},"PermissionOracle")," that will be asked for authorization on calls connected to the specified permission identifier.")))),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Requires the ",(0,i.kt)("inlineCode",{parentName:"em"},"ROOT_PERMISSION_ID")," permission")),(0,i.kt)("h4",{id:"external-function-revoke"},"external function ",(0,i.kt)("inlineCode",{parentName:"h4"},"revoke")),(0,i.kt)("p",null,"Revokes permission from an address to call methods in a target contract guarded by an auth modifier with the specified permission identifier."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function revoke(address _where, address _who, bytes32 _permissionID) external \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," loses permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) losing the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")))),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Requires the ",(0,i.kt)("inlineCode",{parentName:"em"},"ROOT_PERMISSION_ID")," permission.")),(0,i.kt)("h4",{id:"external-function-makeimmutable"},"external function ",(0,i.kt)("inlineCode",{parentName:"h4"},"makeImmutable")),(0,i.kt)("p",null,"Makes the current permission settings of a target contract immutable. This is a permanent operation and permissions on the specified contract with the specified permission identifier can never be granted or revoked again."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function makeImmutable(address _where, bytes32 _permissionID) external \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which the permission are made immutable.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")))),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Requires the ",(0,i.kt)("inlineCode",{parentName:"em"},"ROOT_PERMISSION_ID")," permission.")),(0,i.kt)("h4",{id:"external-function-bulk"},"external function ",(0,i.kt)("inlineCode",{parentName:"h4"},"bulk")),(0,i.kt)("p",null,"Processes bulk items on the permission manager."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function bulk(address _where, struct BulkPermissionsLib.Item[] items) external \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the contract.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"items"),(0,i.kt)("td",{parentName:"tr",align:null},"struct BulkPermissionsLib.Item[]"),(0,i.kt)("td",{parentName:"tr",align:null},"The array of bulk items to process.")))),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Requires the ",(0,i.kt)("inlineCode",{parentName:"em"},"ROOT_PERMISSION_ID")," permission.")),(0,i.kt)("h4",{id:"public-function-haspermissions"},"public function ",(0,i.kt)("inlineCode",{parentName:"h4"},"hasPermissions")),(0,i.kt)("p",null,"Checks if an address has permission on a contract via a permission identifier and considers if ",(0,i.kt)("inlineCode",{parentName:"p"},"ANY_ADDRESS")," was used in the granting process."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function hasPermissions(address _where, address _who, bytes32 _permissionID, bytes _data) public returns (bool) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," recieves permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) for which the permission is checked.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_data"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes"),(0,i.kt)("td",{parentName:"tr",align:null},"The optional data passed to the ",(0,i.kt)("inlineCode",{parentName:"td"},"PermissionOracle")," registered.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("strong",{parentName:"td"},"Output")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"[0]"),(0,i.kt)("td",{parentName:"tr",align:null},"bool"),(0,i.kt)("td",{parentName:"tr",align:null},"bool Returns true if ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," has the permissions on the target contract via the specified permission identifier.")))),(0,i.kt)("h4",{id:"public-function-isimmutable"},"public function ",(0,i.kt)("inlineCode",{parentName:"h4"},"isImmutable")),(0,i.kt)("p",null,"This method is used to check if permissions for a given permission identifier on a contract are immutable."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function isImmutable(address _where, bytes32 _permissionID) public view returns (bool) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," recieves permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("strong",{parentName:"td"},"Output")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"[0]"),(0,i.kt)("td",{parentName:"tr",align:null},"bool"),(0,i.kt)("td",{parentName:"tr",align:null},"bool Returns true if the permission identifier is immutable for the contract address.")))),(0,i.kt)("h4",{id:"internal-function-_initializepermissionmanager"},"internal function ",(0,i.kt)("inlineCode",{parentName:"h4"},"_initializePermissionManager")),(0,i.kt)("p",null,"Grants the ",(0,i.kt)("inlineCode",{parentName:"p"},"ROOT_PERMISSION_ID")," permission to the initial owner during initialization of the permission manager."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function _initializePermissionManager(address _initialOwner) internal \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_initialOwner"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The initial owner of the permission manager.")))),(0,i.kt)("h4",{id:"internal-function-_grant"},"internal function ",(0,i.kt)("inlineCode",{parentName:"h4"},"_grant")),(0,i.kt)("p",null,"This method is used in the public ",(0,i.kt)("inlineCode",{parentName:"p"},"grant")," method of the permission manager."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function _grant(address _where, address _who, bytes32 _permissionID) internal \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," recieves permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) owning the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")))),(0,i.kt)("h4",{id:"internal-function-_grantwithoracle"},"internal function ",(0,i.kt)("inlineCode",{parentName:"h4"},"_grantWithOracle")),(0,i.kt)("p",null,"This method is used in the internal ",(0,i.kt)("inlineCode",{parentName:"p"},"_grant")," method of the permission manager."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function _grantWithOracle(address _where, address _who, bytes32 _permissionID, contract IPermissionOracle _oracle) internal \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," recieves permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) owning the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_oracle"),(0,i.kt)("td",{parentName:"tr",align:null},"contract IPermissionOracle"),(0,i.kt)("td",{parentName:"tr",align:null},"The PermissionOracle to be used or it is just the ALLOW_FLAG.")))),(0,i.kt)("h4",{id:"internal-function-_revoke"},"internal function ",(0,i.kt)("inlineCode",{parentName:"h4"},"_revoke")),(0,i.kt)("p",null,"This method is used in the public ",(0,i.kt)("inlineCode",{parentName:"p"},"revoke")," method of the permission manager."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function _revoke(address _where, address _who, bytes32 _permissionID) internal \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," recieves permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) owning the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")))),(0,i.kt)("h4",{id:"internal-function-_makeimmutable"},"internal function ",(0,i.kt)("inlineCode",{parentName:"h4"},"_makeImmutable")),(0,i.kt)("p",null,"This method is used in the public ",(0,i.kt)("inlineCode",{parentName:"p"},"makeImmutable")," method of the permission manager."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function _makeImmutable(address _where, bytes32 _permissionID) internal \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which the permission is immutable.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")))),(0,i.kt)("h4",{id:"internal-function-_haspermission"},"internal function ",(0,i.kt)("inlineCode",{parentName:"h4"},"_hasPermission")),(0,i.kt)("p",null,"Checks if a caller has the permissions on a contract via a permission identifier and redirects the approval to an ",(0,i.kt)("inlineCode",{parentName:"p"},"PermissionOracle")," if this was in the setup."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function _hasPermission(address _where, address _who, bytes32 _permissionID, bytes _data) internal returns (bool) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," recieves permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) owning the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_data"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes"),(0,i.kt)("td",{parentName:"tr",align:null},"The optional data passed to the ",(0,i.kt)("inlineCode",{parentName:"td"},"PermissionOracle")," registered..")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("strong",{parentName:"td"},"Output")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"[0]"),(0,i.kt)("td",{parentName:"tr",align:null},"bool"),(0,i.kt)("td",{parentName:"tr",align:null},"bool Returns true if ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," has the permissions on the contract via the specified permissionID identifier.")))),(0,i.kt)("h4",{id:"internal-function-permissionhash"},"internal function ",(0,i.kt)("inlineCode",{parentName:"h4"},"permissionHash")),(0,i.kt)("p",null,"Generates the hash for the ",(0,i.kt)("inlineCode",{parentName:"p"},"permissionsHashed"),' mapping obtained from the word "PERMISSION", the contract address, the address owning the permission, and the permission identifier.'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function permissionHash(address _where, address _who, bytes32 _permissionID) internal pure returns (bytes32) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," recieves permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_who"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address (EOA or contract) owning the permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("strong",{parentName:"td"},"Output")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"[0]"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32 The permission hash.")))),(0,i.kt)("h4",{id:"internal-function-immutablepermissionhash"},"internal function ",(0,i.kt)("inlineCode",{parentName:"h4"},"immutablePermissionHash")),(0,i.kt)("p",null,"Generates the hash for the ",(0,i.kt)("inlineCode",{parentName:"p"},"immutablePermissionsHashed"),' mapping obtained from the word "IMMUTABLE", the contract address, and the permission identifier.'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function immutablePermissionHash(address _where, bytes32 _permissionID) internal pure returns (bytes32) \n")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Input"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_where"),(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"The address of the target contract for which ",(0,i.kt)("inlineCode",{parentName:"td"},"who")," recieves permission.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"_permissionID"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"The permission identifier.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("strong",{parentName:"td"},"Output")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"[0]"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32"),(0,i.kt)("td",{parentName:"tr",align:null},"bytes32 The hash used in the ",(0,i.kt)("inlineCode",{parentName:"td"},"immutablePermissions")," mapping.")))))}u.isMDXComponent=!0}}]);